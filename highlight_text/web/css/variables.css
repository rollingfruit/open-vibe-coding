/**
 * CSS 变量系统 - 统一颜色、间距、圆角等设计规范
 * 提升界面清晰度和可维护性
 */

:root {
    /* ========== 颜色系统 ========== */

    /* 主色调 */
    --primary-color: #3b82f6;
    --primary-hover: #2563eb;
    --primary-light: rgba(59, 130, 246, 0.1);

    --secondary-color: #8b5cf6;
    --secondary-hover: #7c3aed;

    --success-color: #22c55e;
    --success-hover: #16a34a;
    --success-light: rgba(34, 197, 94, 0.1);

    --warning-color: #f59e0b;
    --warning-hover: #d97706;
    --warning-light: rgba(245, 158, 11, 0.1);

    --danger-color: #ef4444;
    --danger-hover: #dc2626;
    --danger-light: rgba(239, 68, 68, 0.1);

    --info-color: #06b6d4;
    --info-hover: #0891b2;

    /* 背景色 */
    --bg-primary: #0d1117;
    --bg-secondary: #161b22;
    --bg-tertiary: #21262d;
    --bg-elevated: #1c2128;
    --bg-overlay: #2d333b;

    /* 边框色 */
    --border-color: #30363d;
    --border-hover: #484f58;
    --border-focus: #3b82f6;

    /* 文字色 */
    --text-primary: #e6edf3;
    --text-secondary: #7d8590;
    --text-tertiary: #57606a;
    --text-muted: #484f58;
    --text-link: #58a6ff;
    --text-link-hover: #79c0ff;

    /* Diff 颜色 */
    --diff-add-bg: rgba(46, 160, 67, 0.15);
    --diff-add-border: #3fb950;
    --diff-add-text: #7ee787;

    --diff-remove-bg: rgba(248, 81, 73, 0.15);
    --diff-remove-border: #f85149;
    --diff-remove-text: #ffa198;

    --diff-char-add-bg: rgba(46, 160, 67, 0.4);
    --diff-char-add-text: #d4ffd4;

    --diff-char-remove-bg: rgba(248, 81, 73, 0.4);
    --diff-char-remove-text: #ffdad8;

    /* ========== 间距系统 ========== */
    --spacing-xs: 0.25rem;    /* 4px */
    --spacing-sm: 0.5rem;     /* 8px */
    --spacing-md: 0.75rem;    /* 12px */
    --spacing-lg: 1rem;       /* 16px */
    --spacing-xl: 1.5rem;     /* 24px */
    --spacing-2xl: 2rem;      /* 32px */
    --spacing-3xl: 3rem;      /* 48px */

    /* ========== 圆角系统 ========== */
    --radius-sm: 4px;
    --radius-md: 6px;
    --radius-lg: 8px;
    --radius-xl: 12px;
    --radius-full: 9999px;

    /* ========== 阴影系统 ========== */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);

    /* ========== 过渡动画 ========== */
    --transition-fast: 150ms ease-in-out;
    --transition-base: 200ms ease-in-out;
    --transition-slow: 300ms ease-in-out;

    /* ========== 字体系统 ========== */
    --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', sans-serif;
    --font-mono: 'JetBrains Mono', 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;

    --font-size-xs: 0.75rem;    /* 12px */
    --font-size-sm: 0.875rem;   /* 14px */
    --font-size-base: 1rem;     /* 16px */
    --font-size-lg: 1.125rem;   /* 18px */
    --font-size-xl: 1.25rem;    /* 20px */
    --font-size-2xl: 1.5rem;    /* 24px */

    /* ========== Z-Index 层级 ========== */
    --z-base: 1;
    --z-dropdown: 100;
    --z-sticky: 200;
    --z-fixed: 300;
    --z-modal-backdrop: 400;
    --z-modal: 500;
    --z-popover: 600;
    --z-tooltip: 700;
}

/* ========== 浅色主题覆盖 ========== */
[data-theme="light"] {
    --bg-primary: #ffffff;
    --bg-secondary: #f6f8fa;
    --bg-tertiary: #eaeef2;
    --bg-elevated: #ffffff;
    --bg-overlay: #ffffff;

    --border-color: #d0d7de;
    --border-hover: #afb8c1;

    --text-primary: #1f2328;
    --text-secondary: #656d76;
    --text-tertiary: #818b98;
    --text-muted: #9ca3af;

    --diff-add-bg: rgba(212, 255, 212, 0.3);
    --diff-add-border: #1a7f37;
    --diff-add-text: #116329;

    --diff-remove-bg: rgba(255, 218, 216, 0.3);
    --diff-remove-border: #cf222e;
    --diff-remove-text: #82071e;

    --diff-char-add-bg: rgba(172, 242, 189, 0.6);
    --diff-char-add-text: #0e4f1f;

    --diff-char-remove-bg: rgba(255, 191, 187, 0.6);
    --diff-char-remove-text: #5c0a12;
}

/* ========== 工具类 ========== */

/* 间距工具类 */
.p-xs { padding: var(--spacing-xs); }
.p-sm { padding: var(--spacing-sm); }
.p-md { padding: var(--spacing-md); }
.p-lg { padding: var(--spacing-lg); }
.p-xl { padding: var(--spacing-xl); }

.m-xs { margin: var(--spacing-xs); }
.m-sm { margin: var(--spacing-sm); }
.m-md { margin: var(--spacing-md); }
.m-lg { margin: var(--spacing-lg); }
.m-xl { margin: var(--spacing-xl); }

/* 圆角工具类 */
.rounded-sm { border-radius: var(--radius-sm); }
.rounded-md { border-radius: var(--radius-md); }
.rounded-lg { border-radius: var(--radius-lg); }
.rounded-xl { border-radius: var(--radius-xl); }
.rounded-full { border-radius: var(--radius-full); }

/* 过渡工具类 */
.transition-fast { transition: all var(--transition-fast); }
.transition-base { transition: all var(--transition-base); }
.transition-slow { transition: all var(--transition-slow); }

/* 阴影工具类 */
.shadow-sm { box-shadow: var(--shadow-sm); }
.shadow-md { box-shadow: var(--shadow-md); }
.shadow-lg { box-shadow: var(--shadow-lg); }
.shadow-xl { box-shadow: var(--shadow-xl); }

/* ========== 专注模式 ========== */
.focus-mode #sessionDrawer,
.focus-mode #right-sidebar {
    display: none !important;
    width: 0 !important;
    min-width: 0 !important;
}

/* 专注模式 - 主聊天区域占满全宽 */
.focus-mode > div > .flex-1.flex.flex-col {
    width: 100vw !important;
    max-width: 100vw !important;
}

/* 专注模式 - 编辑器容器增加合理的内边距 */
.focus-mode.view-mode-editor #editor-container {
    padding-left: var(--spacing-3xl);
    padding-right: var(--spacing-3xl);
}

/* 专注模式 - 编辑器和预览区域使用合理的最大宽度 */
.focus-mode.view-mode-editor #editor-container > .flex {
    max-width: 1800px;
    margin: 0 auto;
}

/* 专注模式按钮样式 */
.focus-mode-btn {
    position: relative;
}

.focus-mode-btn.active {
    background: var(--primary-light);
    color: var(--primary-color);
}

.focus-mode-btn.active::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: var(--primary-color);
}
