# AI助手 - Web版

🤖 一个基于Go后端和Web前端的本地AI助手应用，支持对话交互和智能划词追问功能。

## ✨ 主要特性

- **💬 智能对话**: 支持与大语言模型进行实时对话，流式响应显示
- **🎯 划词追问**: 选中AI回答中的任意文字，弹出快捷操作菜单进行深度追问
- **📋 代码高亮**: 自动识别代码块并提供语法高亮和一键复制功能
- **💾 对话记录**: 自动保存对话历史，支持本地存储和日志记录
- **⚙️ 灵活配置**: 支持自定义API端点、模型选择和快捷指令
- **🌓 现代界面**: 采用TailwindCSS构建的现代化深色主题界面

## 🚀 快速开始

### 环境要求

- Go 1.18+
- 现代浏览器 (Chrome, Firefox, Edge等)
- LLM API密钥 (OpenAI, Claude等)

### 安装步骤

1. **克隆项目**
   ```bash
   git clone <项目地址>
   cd ai-helper-web
   ```

2. **编译项目**
   ```bash
   go build -o ai-helper-web main.go
   ```

3. **启动服务**
   ```bash
   ./ai-helper-web
   ```

4. **访问应用**
   打开浏览器访问: http://localhost:8080

### Windows一键启动

直接双击 `launch.bat` 脚本即可自动编译、启动服务并打开浏览器。

## 📖 使用指南

### 首次配置

1. 点击右上角 **⚙️ 设置** 按钮
2. 输入你的API密钥
3. 选择合适的API端点和模型
4. 点击保存

### 基本对话

在底部输入框输入问题，按回车或点击发送按钮即可开始对话。

### 划词追问

1. 选中AI回答中的任意文字
2. 会自动弹出快捷操作菜单
3. 点击相应按钮进行深度追问
4. 追问结果会在新的模态框中显示

### 自定义快捷指令

编辑 `web/config.json` 文件来自定义划词菜单选项:

```json
{
  "commands": [
    {
      "label": "大白话解释",
      "prompt": "用最简单易懂的大白话解释以下内容：\n"
    },
    {
      "label": "深入分析",
      "prompt": "请深入分析以下内容：\n"
    }
  ]
}
```

## 🏗️ 项目结构

```
/
├── main.go              # Go后端服务
├── go.mod              # Go模块文件
├── launch.bat          # Windows启动脚本
├── interactions.log.json # 交互日志文件
└── web/                # 前端静态资源
    ├── index.html      # 主页面
    ├── app.js          # 核心JavaScript逻辑
    ├── style.css       # 自定义样式
    └── config.json     # 配置文件
```

## 🔧 技术架构

### 后端 (Go)

- **职责**: 极简设计，仅负责静态文件托管和日志记录
- **技术栈**: Go标准库 (net/http)
- **功能**:
  - 静态文件服务器
  - `/log` API端点用于记录交互日志

### 前端 (Web)

- **职责**: 承担所有业务逻辑和用户交互
- **技术栈**: HTML5 + Vanilla JavaScript + TailwindCSS
- **功能**:
  - LLM API调用和流式响应处理
  - 复杂UI交互逻辑
  - 划词选择和追问功能
  - 本地存储管理

## 🛠️ 开发说明

### 修改配置

- API设置: 在Web界面的设置中修改
- 快捷指令: 修改 `web/config.json` 文件
- 样式定制: 修改 `web/style.css` 文件

### 添加新功能

大部分功能都在前端实现，主要修改 `web/app.js` 文件即可。

### 日志查看

所有对话记录都会保存在 `interactions.log.json` 文件中，包含:
- 用户输入
- AI响应
- 时间戳
- 对话类型 (主对话/追问)

## ⚠️ 注意事项

- **安全性**: API密钥存储在浏览器本地，仅适用于个人或内部安全环境
- **网络**: 需要网络连接访问LLM API服务
- **浏览器**: 建议使用现代浏览器以获得最佳体验
- **端口**: 默认使用8080端口，请确保端口未被占用

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目!

## 📄 许可证

本项目采用MIT许可证。

